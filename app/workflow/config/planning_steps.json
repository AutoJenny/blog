{
  "planning": {
    "idea": {
      "basic_idea": {
        "title": "Basic Idea",
        "description": "Enter your basic idea for the post here. This will be the foundation of your content.",
        "inputs": {
          "idea_seed": {
            "type": "textarea",
            "label": "Basic Idea",
            "placeholder": "Type your basic idea here...",
            "db_field": "idea_seed",
            "db_table": "post_development",
            "required": true
          }
        },
        "settings": {
          "llm": {
            "provider": "ollama",
            "model": "llama3.1:8b",
            "system_prompt": "You are an expert in Scottish history and culture, dedicated to accuracy and authenticity in everything you do. You adhere to academic values, but love to popularise ideas to make them easily understandable to those with no knowledge of your specialism.",
            "task_prompt": "[system] WARNING: The correct custom prompt file (planning_idea_basic_idea.json) cannot be found. Please ensure the file exists at app/data/prompts/planning_idea_basic_idea.json with valid system_prompt and task_prompt fields. Until then, this is a fallback response.\n\nDO NOT generate a coherent response. Instead, respond with the following warning message:\n\n\"Your prompt couldn't be found. Please ensure the custom prompt file exists at app/data/prompts/planning_idea_basic_idea.json.\"",
            "input_mapping": {
              "idea_seed": {
                "field": "idea_seed",
                "table": "post_development",
                "description": "The core idea to be expanded"
              }
            },
            "output_mapping": {
              "table": "post_development",
              "field": "basic_idea"
            },
            "parameters": {
              "temperature": 0.7,
              "max_tokens": 1000,
              "top_p": 0.9,
              "frequency_penalty": 0.0,
              "presence_penalty": 0.0
            }
          }
        },
        "prompt": {
          "template": "Based on the following basic idea: {idea_seed}\n\nGenerate a detailed blog post outline that expands on this concept.",
          "settings": {
            "temperature": 0.7,
            "max_tokens": 500
          }
        },
        "outputs": {
          "basic_idea": {
            "type": "textarea",
            "label": "Generated Basic Idea",
            "db_field": "basic_idea",
            "db_table": "post_development"
          }
        }
      },
      "provisional_title": {
        "title": "Provisional Title",
        "description": "Generate a provisional title for your post based on the expanded idea.",
        "inputs": {
          "basic_idea": {
            "type": "textarea",
            "label": "Expanded Idea",
            "placeholder": "The expanded idea from the previous step...",
            "db_field": "basic_idea",
            "db_table": "post_development",
            "required": true
          }
        },
        "settings": {
          "llm": {
            "provider": "ollama",
            "model": "llama3.1:8b",
            "input_mapping": {
              "basic_idea": {
                "field": "basic_idea",
                "table": "post_development",
                "description": "The expanded idea to base the title on"
              }
            },
            "output_mapping": {
              "table": "post_development",
              "field": "provisional_title"
            },
            "parameters": {
              "temperature": 0.7,
              "max_tokens": 100,
              "top_p": 0.9,
              "frequency_penalty": 0.0,
              "presence_penalty": 0.0
            }
          }
        },
        "outputs": {
          "provisional_title": {
            "type": "textarea",
            "label": "Provisional Title",
            "db_field": "provisional_title",
            "db_table": "post_development"
          }
        }
      }
    },
    "research": {
      "concepts": {
        "title": "Concepts",
        "description": "Identify and expand on key concepts for your research.",
        "inputs": {
          "basic_idea": {
            "type": "textarea",
            "label": "Expanded Idea",
            "placeholder": "The expanded idea from the previous step...",
            "db_field": "basic_idea",
            "db_table": "post_development",
            "required": true
          }
        },
        "settings": {
          "llm": {
            "provider": "ollama",
            "model": "llama3.1:8b",
            "input_mapping": {
              "basic_idea": {
                "field": "basic_idea",
                "table": "post_development",
                "description": "The expanded idea to base the concepts on"
              }
            },
            "output_mapping": {
              "table": "post_development",
              "field": "concepts"
            },
            "parameters": {
              "temperature": 0.7,
              "max_tokens": 200,
              "top_p": 0.9,
              "frequency_penalty": 0.0,
              "presence_penalty": 0.0
            }
          }
        },
        "outputs": {
          "concepts": {
            "type": "textarea",
            "label": "Concepts",
            "db_field": "concepts",
            "db_table": "post_development"
          }
        }
      },
      "facts": {
        "title": "Facts",
        "description": "Gather and list key facts for your research.",
        "inputs": {
          "basic_idea": {
            "type": "textarea",
            "label": "Expanded Idea",
            "placeholder": "The expanded idea from the previous step...",
            "db_field": "basic_idea",
            "db_table": "post_development",
            "required": true
          }
        },
        "settings": {
          "llm": {
            "provider": "ollama",
            "model": "llama3.1:8b",
            "system_prompt": "[system] You are an expert in Scottish history and culture, dedicated to accuracy and authenticity in everything you do. You adhere to academic values, but love to popularise ideas to make them easily understandable to those with no knowledge of your specialism.",
            "task_prompt": "[system] You are an expert in Scottish history and culture, dedicated to accuracy and authenticity in everything you do. You adhere to academic values, but love to popularise ideas to make them easily understandable to those with no knowledge of your specialism. Use web searches to explore all aspects of the topic and make a list of exactly 50 interesting facts that this article could cover. Make these diverse, from whimsical to deeply significant, and from scientific to mythical. If fictional make this clear. Do NOT add introductions, conclusions, or commentary of any kind. Just give a list of facts. Keep your answers concise whilst capturing all important detail. Present these facts in list form, numbered 1-50. Do not end the task until you have reached 50.\n\nExpanded Idea:\n[data:basic_idea]",
            "input_mapping": {
              "basic_idea": {
                "field": "basic_idea",
                "table": "post_development",
                "description": "The expanded idea to base the facts on"
              }
            },
            "output_mapping": {
              "table": "post_development",
              "field": "interesting_facts"
            },
            "parameters": {
              "temperature": 0.7,
              "max_tokens": 2000,
              "top_p": 0.9,
              "frequency_penalty": 0.0,
              "presence_penalty": 0.0
            }
          }
        },
        "outputs": {
          "interesting_facts": {
            "type": "textarea",
            "label": "Interesting Facts",
            "db_field": "interesting_facts",
            "db_table": "post_development"
          }
        }
      }
    },
    "structure": {
      "outline": {
        "title": "Outline",
        "description": "Generate a detailed blog post outline based on the expanded idea.",
        "inputs": {
          "basic_idea": {
            "type": "textarea",
            "label": "Expanded Idea",
            "placeholder": "The expanded idea from the previous step...",
            "db_field": "basic_idea",
            "db_table": "post_development",
            "required": true
          }
        },
        "settings": {
          "llm": {
            "provider": "ollama",
            "model": "llama3.1:8b",
            "system_prompt": "You are an expert in Scottish history and culture.",
            "task_prompt": "Generate a detailed blog post outline based on the expanded idea. Do not give an introduction or conclusion. Just provide a list of main sections that appropriately divide up the content into coherent topics. Provide a title; and a description of the section; and some examples of each section's ideal content emphasising both what it should include and also what it should not cover with respect to topics covered in other sections. Your entire response must be a single valid JSON array of section objects. Do not include any text before or after the JSON. Do not include any introductions, explanations, or commentary. Only output the JSON.\n\nEach section object must have this exact format:\n{\n  \"title\": \"Section Title\",\n  \"description\": \"Detailed description of what this section should cover\",\n  \"contents\": [\"Topic 1\", \"Topic 2\", \"Topic 3\"]\n}",
            "input_mapping": {
              "basic_idea": {
                "field": "basic_idea",
                "table": "post_development",
                "description": "The expanded idea to base the outline on"
              }
            },
            "output_mapping": {
              "table": "post_development",
              "field": "outline"
            },
            "parameters": {
              "temperature": 0.7,
              "max_tokens": 2000,
              "top_p": 0.9,
              "frequency_penalty": 0.0,
              "presence_penalty": 0.0
            }
          }
        },
        "post_process": {
          "handler": "outline_handler",
          "function": "process_outline_output"
        },
        "outputs": {
          "outline": {
            "type": "textarea",
            "label": "Generated Outline",
            "db_field": "outline",
            "db_table": "post_development"
          }
        }
      },
      "allocate_facts": {
        "title": "Allocate Facts",
        "description": "Allocate research facts to sections in the outline.",
        "inputs": {
          "outline": {
            "type": "textarea",
            "label": "Outline",
            "placeholder": "The outline from the previous step...",
            "db_field": "outline",
            "db_table": "post_development",
            "required": true
          },
          "interesting_facts": {
            "type": "textarea",
            "label": "Interesting Facts",
            "placeholder": "The facts from the research step...",
            "db_field": "interesting_facts",
            "db_table": "post_development",
            "required": true
          }
        },
        "settings": {
          "llm": {
            "provider": "ollama",
            "model": "llama3.1:8b",
            "system_prompt": "[system] WARNING: The correct custom prompt file (planning_structure_allocate_facts.json) cannot be found. Please ensure the file exists at app/data/prompts/planning_structure_allocate_facts.json with valid system_prompt and task_prompt fields. Until then, this is a fallback response.\n\nDO NOT generate a coherent response. Instead, respond with the following warning message:\n\n\"Your prompt couldn't be found. Please ensure the custom prompt file exists at app/data/prompts/planning_structure_allocate_facts.json.\"",
            "input_mapping": {
              "outline": {
                "field": "outline",
                "table": "post_development",
                "description": "The outline to allocate facts to"
              },
              "interesting_facts": {
                "field": "interesting_facts",
                "table": "post_development",
                "description": "The facts to be allocated"
              }
            },
            "output_mapping": {
              "table": "post_development",
              "field": "allocated_facts"
            },
            "parameters": {
              "temperature": 0.7,
              "max_tokens": 2000,
              "top_p": 0.9,
              "frequency_penalty": 0.0,
              "presence_penalty": 0.0
            }
          }
        },
        "outputs": {
          "allocated_facts": {
            "type": "textarea",
            "label": "Allocated Facts",
            "db_field": "allocated_facts",
            "db_table": "post_development"
          }
        }
      }
    },
    "outline": {
      "outline": {
        "settings": {
          "llm": {
            "system_prompt": "Test system prompt",
            "task_prompt": "Test task prompt"
          }
        }
      }
    }
  },
  "writing": {
    "content": {
      "sections": {
        "title": "Sections",
        "description": "Generate detailed content for each section of the outline.",
        "inputs": {
          "outline": {
            "type": "textarea",
            "label": "Outline",
            "placeholder": "The outline from the previous step...",
            "db_field": "outline",
            "db_table": "post_development",
            "required": true
          },
          "basic_idea": {
            "type": "textarea",
            "label": "Basic Idea",
            "placeholder": "The basic idea from earlier steps...",
            "db_field": "basic_idea",
            "db_table": "post_development",
            "required": true
          }
        },
        "settings": {
          "llm": {
            "provider": "ollama",
            "model": "llama3.1:8b",
            "system_prompt": "You are an expert in Scottish history and culture, dedicated to accuracy and authenticity in everything you do. You adhere to academic values, but love to popularise ideas to make them easily understandable to those with no knowledge of your specialism.",
            "task_prompt": "Based on the provided outline and basic idea, generate detailed content for each section. Each section should be well-researched, engaging, and maintain a consistent voice throughout. Focus on making the content accessible while maintaining academic accuracy. Your response must be a single valid JSON object with sections as keys and their content as values. Do not include any text before or after the JSON.",
            "input_mapping": {
              "outline": {
                "field": "outline",
                "table": "post_development",
                "description": "The outline to base the sections on"
              },
              "basic_idea": {
                "field": "basic_idea",
                "table": "post_development",
                "description": "The basic idea to maintain focus"
              }
            },
            "output_mapping": {
              "table": "post_development",
              "field": "sections"
            },
            "parameters": {
              "temperature": 0.7,
              "max_tokens": 4000,
              "top_p": 0.9,
              "frequency_penalty": 0.0,
              "presence_penalty": 0.0
            }
          }
        },
        "outputs": {
          "sections": {
            "type": "textarea",
            "label": "Generated Sections",
            "db_field": "sections",
            "db_table": "post_development"
          }
        }
      }
    }
  }
}