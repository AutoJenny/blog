{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <!-- Main heading with active blog section -->
    <div class="d-flex align-items-center mb-4">
        <h1 class="mb-0">
            <a href="{{ url_for('main.index') }}" class="text-decoration-none text-muted">Home</a>
            <span class="mx-2 text-muted">/</span>
            <a href="{{ url_for('blog.latest') }}"
                class="text-decoration-none {% if request.endpoint.startswith('blog.') %}fw-bold text-primary{% else %}text-muted{% endif %}">Posts</a>
        </h1>
    </div>

    <!-- Post title and navigation -->
    <div class="text-center mb-4">
        <h2 class="h3 fw-bold mb-4">{{ post.title }}</h2>
        <div class="d-flex justify-content-center">
            <div class="btn-group" role="group" aria-label="Post navigation">
                <a class="btn {% if active_tab == 'preview' %}btn-primary{% else %}btn-outline-primary{% endif %}"
                    href="{{ url_for('blog.post', post_id=post.id) }}">Preview</a>
                <a class="btn {% if active_tab == 'edit' %}btn-primary{% else %}btn-outline-primary{% endif %}"
                    href="{{ url_for('blog.edit', post_id=post.id) }}">Edit</a>
                <a class="btn {% if active_tab == 'code' %}btn-primary{% else %}btn-outline-primary{% endif %}"
                    href="{{ url_for('blog.post_code', post_id=post.id) }}">Code</a>
            </div>
        </div>
    </div>

    <!-- Content area -->
    <div class="card">
        <div class="card-body">
            {% block post_content %}{% endblock %}
        </div>
    </div>
</div>

<!-- Suppress Tailwind CDN warning -->
<script>
    console.warn = (function (originalWarn) {
        return function (msg, ...args) {
            if (!msg.includes('cdn.tailwindcss.com')) {
                originalWarn.apply(console, [msg, ...args]);
            }
        };
    })(console.warn);
</script>
{% endblock %}