<!-- Prompt Section -->
<div class="border border-dark-border rounded-lg p-4 mb-4">
    <h2 class="text-xl font-medium text-dark-text mb-4">Prompt</h2>

    <!-- System Mini-Panel -->
    <div class="bg-dark-hover rounded-lg p-3 mb-3">
        <h3 class="text-sm font-medium text-blue-500 mb-2">System</h3>
        <div class="flex flex-col space-y-2">
            <select id="system_prompt_select"
                class="w-full bg-dark-bg text-dark-text border border-dark-border rounded p-1 text-sm">
                <option value="">Select system prompt...</option>
            </select>
            <textarea id="system_prompt"
                class="w-full bg-dark-bg border border-dark-border text-dark-text rounded p-2 text-sm" rows="2"
                placeholder="Enter system prompt..."></textarea>
        </div>
    </div>

    <!-- Task Mini-Panel -->
    <div class="bg-dark-hover rounded-lg p-3 mb-3">
        <h3 class="text-sm font-medium text-blue-500 mb-2">Task</h3>
        <div class="flex flex-col space-y-2">
            <select id="task_prompt_select"
                class="w-full bg-dark-bg text-dark-text border border-dark-border rounded p-1 text-sm">
                <option value="">Select task prompt...</option>
            </select>
            <textarea id="task_prompt"
                class="w-full bg-dark-bg border border-dark-border text-dark-text rounded p-2 text-sm" rows="2"
                placeholder="Enter task prompt..."></textarea>
        </div>
    </div>

    {% if step_config.prompt %}
    <div class="mb-4">
        <h3 class="text-lg font-medium mb-2 text-dark-text">Prompt Template</h3>
        <pre class="bg-dark-hover p-4 rounded-lg text-sm text-dark-text">{{ step_config.prompt }}</pre>
    </div>
    {% else %}
    <p class="text-gray-400">No prompt configured for this step.</p>
    {% endif %}
</div>

<!-- Initialize Prompt Selector -->
<script type="module">
    import { PromptSelector } from "/static/modules/llm_panel/js/prompt_selector.js";
    window.addEventListener('DOMContentLoaded', () => {
        new PromptSelector();
    });
</script>